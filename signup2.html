<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilem</title>
    <link rel="stylesheet" href="dist/output.css">
</head>

<body>
    <div class="px-3 py-2 flex items-center justify-between w-full h-fit border-b-[1px]">
        <div>
            <span class="text-[#e50914] text-3xl md:text-6xl lg:text-[53px] font-bold cursor-pointer"><a
                    href="index.html">Pilem</a></span>
        </div>
        <a href="signin.html" class="font-semibold hover:underline md:text-2xl">Sign In</a>
    </div>
    <div class="h-[800px] md:min-h-screen flex flex-col justify-between">
        <div class="mt-10 px-7 flex justify-center">
            <div class="md:w-96">
                <div class="mb-2">
                    <p class="text-sm">STEP <span class="font-semibold">1</span> OF <span class="font-semibold">3</span>
                    </p>
                </div>
                <div class="mb-4">
                    <p class="font-semibold text-4xl">Create a password to start your membership</p>
                </div>
                <div class="mb-4">
                    <p class="text-xl">Just a few more steps and you're done! We hate paperwork, too.</p>
                </div>
                <div>
                    <input id="email" type="email" name="email"
                        class="w-full h-fit p-3 rounded-md border-[0.1px] border-gray-400 mb-3"
                        placeholder="Add a email">
                    <input id="password" type="password" name="password" placeholder="Add a password"
                        class="w-full h-fit p-3 rounded-md border-[0.1px] border-gray-400 mb-3">
                    <div class="flex items-start mb-2">
                        <input type="checkbox" name="checkbox" class="w-6 h-6 mt-1 mr-2">
                        <p>Please do not email me Pilem special offers</p>
                    </div>
                </div>
                <div>
                    <a id="next">
                        <button type="submit"
                            class="w-full h-fit px-3 py-5 bg-[#e50914] hover:bg-[#f6121d] duration-200 rounded-lg text-white font-semibold text-xl">Next</button>
                    </a>
                    <p class="text-center mt-2 hidden" id="warning">The password must be at least 8 characters long!</p>
                </div>
            </div>
        </div>
        <footer class="bg-gray-100 lg:bg-opacity-70 p-5 text-gray-500">
            <div class="mb-5">
                <p>Questions? Call 123-456-789</p>
            </div>
            <div class="w-[80%] flex gap-5 text-sm">
                <ul class="flex flex-col gap-3">
                    <li class="duration-300 cursor-pointer hover:underline hover:underline-offset-4"><a href="#">FAQ</a>
                    </li>
                    <li class="duration-300 cursor-pointer hover:underline hover:underline-offset-4"><a href="#">Terms
                            of Use</a></li>
                    <li class="duration-300 cursor-pointer hover:underline hover:underline-offset-4"><a href="#">Cookie
                            Preferences</a></li>
                </ul>
                <ul class="flex flex-col gap-3">
                    <li class="duration-300 cursor-pointer hover:underline hover:underline-offset-4"><a href="#">Help
                            Center</a></li>
                    <li class="duration-300 cursor-pointer hover:underline hover:underline-offset-4"><a
                            href="#">Privacy</a></li>
                    <li class="duration-300 cursor-pointer hover:underline hover:underline-offset-4"><a
                            href="#">Corporate Information</a></li>
                </ul>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            const storageKey = 'EMAIL_USER';
            const storageKeyNew = 'EMAIL_PASS_USER';
            const email = document.querySelector("#email");
            const storedEmails = JSON.parse(localStorage.getItem(storageKey));
            email.value = storedEmails[storedEmails.length - 1];

            // check password
            const next = document.querySelector("#next");
            const password = document.querySelector('#password');
            const warning = document.querySelector("#warning");
            next.addEventListener('click', function () {
                if (password.value.length < 8) {
                    warning.classList.remove('hidden');
                } else if (password.value.length >= 8) {
                    warning.classList.add('hidden');
                    let userData = JSON.parse(localStorage.getItem(storageKeyNew)) || [];
                    const newEmailPass = {
                        email: email.value.trim(),
                        password: password.value.trim()
                    }
                    userData.push(newEmailPass);
                    localStorage.setItem(storageKeyNew, JSON.stringify(userData));

                    window.location.href = "signup3.html";
                }
            })
        });
    </script>
</body>

</html>